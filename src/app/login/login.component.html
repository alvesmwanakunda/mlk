<app-navbar-user></app-navbar-user>

<div style="background-color: white !important;">
  <div class="d-flex justify-content-between" style="background-color: white !important; padding-top: 6rem;">
   
    <div class="d-flex align-items-end" style="background-image: url('assets/images/left_side.jpg');  width: 60%; min-height: calc(100vh - 6rem); background-size: cover; background-repeat: no-repeat; padding: 0 0 45px 45px;">
      <h3 style="font-size: 32px; font-weight:700; letter-spacing: 1.5px; line-height: 40px; background-color: rgba(255, 255, 255, 0.5); padding: 25px;">
        CONSTRUISEZ L'<span style="color: #265e86;">AVENIR</span>, <br>
        <span style="color: #265e86;">MODULEZ</span> VOTRE ESPACE !
      </h3>
    </div>
    
    <div style="background-color: white !important; min-height: calc(100vh - 6rem); width: 40%; display: flex; align-items: center !important;">
      <div class="container-lg justify-content-md-center d-flex" style=" height:fit-content !important;">
          <mat-card style="background-color: #ffffff !important; box-shadow: 1px 2px 6px rgba(0, 0, 0, 0.614) !important; border-radius: 25px !important; width: 80%;">
            <mat-card-content style="padding-top: 30px !important;padding-bottom: 30px !important;">
              <h1 class="content-form" style="margin-bottom: 50px;">
                <span class="title-login">Se connecter</span>
              </h1>

              <form [formGroup]="loginForm" novalidate style="margin-bottom: 20px;">

                <div *ngIf="testValidation">
                  <p class="text-danger text-center">Veuillez remplir tous les champs</p>
                </div>
                <div class="content-form">
                  <div class="row">
                    <div class="col">
                      <mat-form-field class="example-full-login">
                        <mat-label>E-mail</mat-label>
                        <input matInput formControlName="email">
                      </mat-form-field>
                      <div *ngIf="loginForm.get('email').hasError(account_validation_messages.email[0].type) && ((loginForm.get('email').dirty || loginForm.get('email').touched))">
                        <p class="error_field">{{account_validation_messages.email[0].message}}</p>
                      </div>
                      <div *ngIf="loginForm.get('email').hasError(account_validation_messages.email[1].type) && ((loginForm.get('email').dirty || loginForm.get('email').touched))">
                        <p class="error_field">{{account_validation_messages.email[1].message}}</p>
                      </div>
                      <div *ngIf="loginFormErrors.email.notfound">
                        <p style="color:#BA0237">Adresse email ou le mot de passe invalide.</p>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col">
                      <mat-form-field class="example-full-login">
                        <mat-label>Mot de passe</mat-label>
                        <input matInput formControlName="password" [type]="hideP ? 'password' : 'text'">
                        <button *ngIf="loginForm.get('password').value && loginForm.get('password').value!=''" mat-icon-button matSuffix (click)="hideP = !hideP" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideP">
                          <mat-icon>{{hideP ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                      </mat-form-field>
                    </div>
                  </div>
                  <div style="display: flex; justify-content: center;">
                    <div style="margin-bottom: 20px; display: flex; justify-content: end; width: 75%;">
                      <button mat-button color="primary" [routerLink]="'/reset'">Mot de passe oubli√©e ?</button>
                    </div>
                  </div>
                  <div align="center" style="margin-bottom: 30px;">
                    <button mat-raised-button [disabled]="onLoadForm" type="submit" (click)="onLogin()" class="sizeButtonLogin" style="color: #fff;">Se connecter</button>
                  </div>
                  <div>
                    <p>Pas encore de compte Mlka ? <button mat-button [routerLink]="'/signup'" type="button">S'inscrire</button></p>
                  </div>
                </div>
            </form>

            </mat-card-content>
            <mat-card-footer>
              <div *ngIf="onLoadForm">
                <mat-progress-bar mode="indeterminate"></mat-progress-bar>
              </div>
            </mat-card-footer>
          </mat-card>
      </div>
    </div>
  </div>
</div>



