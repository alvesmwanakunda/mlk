<app-navbar *ngIf="user?.role=='admin'"></app-navbar>
<app-navbar-user *ngIf="user?.role=='user'"></app-navbar-user>
<div class="container">
  <div class="content-top">
    <h2 class="content-title" style="text-align: center;">Informations personnelles <button mat-mini-fab color="primary" (click)="editProfil()"><mat-icon>edit</mat-icon></button></h2>
  </div><!--content-->
  <div class="row justify-content-md-center">
    <div class="col-lg-8 col-md-auto" *ngIf="!isEditer">

      <div style="margin-bottom: 25px;">
        <mat-card class="example-card">
          <mat-card-header style="margin-bottom: 50px;">
            <mat-card-title style="font-weight: normal !important;">Informations générales</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-list>
              <mat-list-item><span class="text-profil" style="margin-right: 249px;">Nom</span> <span>{{user?.nom}} {{user?.prenom}}</span></mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item><span class="text-profil" style="margin-right: 245px;">Genre</span> <span>{{user?.genre}}</span></mat-list-item>
            </mat-list>
          </mat-card-content>
        </mat-card>
      </div>

      <div style="margin-bottom: 25px;">
        <mat-card class="example-card">
          <mat-card-header style="margin-bottom: 50px;">
            <mat-card-title style="font-weight: normal !important;">Coordonnées</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-list>
              <mat-list-item><span class="text-profil" style="margin-right: 200px;">Adresse e-mail</span> <span>{{user?.email}}</span></mat-list-item>
              <mat-divider></mat-divider>
              <mat-list-item><span class="text-profil" style="margin-right: 225px;">Téléphone</span> <span>{{user?.phone}}</span></mat-list-item>
            </mat-list>
          </mat-card-content>
        </mat-card>
      </div>

      <div>
        <mat-card class="example-card">
          <mat-card-header style="margin-bottom: 50px;">
            <mat-card-title style="font-weight: normal !important;">Adresse</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-list>
              <mat-list-item><span class="text-profil" style="margin-right: 235px;">Adresse</span> <span>{{user?.adresse}}</span></mat-list-item>
              <mat-divider></mat-divider>
            </mat-list>
          </mat-card-content>
        </mat-card>
      </div>

    </div><!--col-->
    <div class="row justify-content-md-center" *ngIf="isEditer">
      <div class="col-lg-6 col-md-auto">

        <mat-card class="example-card">
          <mat-card-header style="margin-bottom: 50px;">
            <mat-card-title style="font-weight: normal !important;">Editer Profile</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <form [formGroup]="userFormGroup">
              <div style="margin-bottom: 15px;">
                <label class="label-entreprise">Nom</label>
                <input type="text" formControlName="nom" [(ngModel)]="user.nom"  class="form-control input-entreprise">
              </div><!--div-->
              <div style="margin-bottom: 15px;">
                <label class="label-entreprise">Prénom</label>
                <input type="text" formControlName="prenom" [(ngModel)]="user.prenom"  class="form-control input-entreprise">
              </div><!--div-->
              <div style="margin-bottom: 15px;">
                <label class="label-entreprise">Genre</label>
                <select  formControlName="genre" [(ngModel)]="user.genre"  class="form-control input-entreprise">
                  <option value="Homme">Homme</option>
                  <option value="Femme">Femme</option>
                </select>
              </div><!--div-->
              <div style="margin-bottom: 15px;">
                <label class="label-entreprise">Téléphone</label>
                <input type="text" formControlName="phone" [(ngModel)]="user.phone"  class="form-control input-entreprise">
              </div><!--div-->
              <div style="margin-bottom: 15px;">
                <label class="label-entreprise">Adresse</label>
                <input type="text" formControlName="adresse" [(ngModel)]="user.adresse"  class="form-control input-entreprise">
              </div><!--div-->
            </form>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button  class="btn-entreprise" (click)="updateContact()">VALIDER</button>
          </mat-card-actions>
          <mat-card-footer>
            <mat-progress-bar mode="indeterminate" *ngIf="onLoadForm"></mat-progress-bar>
          </mat-card-footer>
        </mat-card>

      </div>
    </div>
  </div>
</div>
