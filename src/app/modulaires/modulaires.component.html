<app-navbar>
  <div class="container">

    <div class="content-top">
      <!--<h2 class="content-title">Les modules</h2>-->
      <h2 class="content-title">Stockages</h2>
      <mat-divider></mat-divider>
    </div><!--content-->
    <div style="margin-bottom: 30px;">
        <div class="row" style="margin-bottom: 10px;">
          <div class="col">
            <h2 style="margin-bottom: 15px;">Total matériels : {{countModules?.module}}</h2>
          </div>
          <div class="col"  align="right">
            <button type="button" class="btn btn-projet" routerLink="/modulaire" *ngIf="user?.user?.role!='user'"><i class="fa-solid fa-plus"></i> Nouvel article</button>
          </div>
        </div>
        <div class="row">
          <div class="col" *ngIf="dataCount">
            <canvasjs-chart [options]="chartOptions" [styles]="{width: '100%', height:'360px',}"></canvasjs-chart> 
          </div>
        </div>
    </div>
    <div>
      <mat-tab-group [(selectedIndex)]="selectedIndex" (selectedIndexChange)="onTabChange($event)">
        <mat-tab>
          <ng-template mat-tab-label>
            <span matBadge="{{countModules?.stock}}" matBadgeOverlap="false">Parc</span>
          </ng-template>
          <div style="padding-top: 40px;">
            <app-stock-module></app-stock-module>
          </div>
        </mat-tab>
        <mat-tab *ngIf="user?.user?.role!='user'">
          <ng-template mat-tab-label>
            <span matBadge="{{countModules?.preparation}}" matBadgeOverlap="false">En préparation</span>
          </ng-template>
          <div style="padding-top: 40px;">
           <app-prepare-module></app-prepare-module>
          </div>
        </mat-tab>
        <mat-tab *ngIf="user?.user?.role!='user'">
          <ng-template mat-tab-label>
            <span matBadge="{{countModules?.pret}}" matBadgeOverlap="false">Prêt à partir</span>
          </ng-template>
          <div style="padding-top: 40px;">
            <app-ready-module></app-ready-module>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <span matBadge="{{countModules?.site}}" matBadgeOverlap="false">Site</span>
          </ng-template>
          <div style="padding-top: 40px;">
            <app-site-module></app-site-module>
          </div>
        </mat-tab>
      </mat-tab-group>

    </div>
  </div>
</app-navbar>
